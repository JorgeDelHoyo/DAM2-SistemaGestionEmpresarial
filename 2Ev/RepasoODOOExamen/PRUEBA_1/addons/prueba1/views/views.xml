<odoo>
  <data>

    <!-- VIEW PARA HIJOS (Alumnos) -->
    <record id="prueba1_hijo_action" model="ir.actions.act_window">
      <field name="name">Alumnos</field>
      <field name="res_model">prueba1.hijo</field>
      <field name="view_mode">list,form</field>
    </record>

    <record id="prueba1_hijo_view_list" model="ir.ui.view">
      <field name="name">prueba1_hijo.view.list</field>
      <field name="model">prueba1.hijo</field>
      <field name="arch" type="xml">
        <list string="Listado de Alumnos">
          <field name="name" />
          <field name="colegio" />
          <field name="curso" />
          <field name="empresa_id" />
        </list>
      </field>
    </record>

    <record id="prueba1_hijo_view_form" model="ir.ui.view">
      <field name="name">prueba1_hijo.view.form</field>
      <field name="model">prueba1.hijo</field>
      <field name="arch" type="xml">
        <form string="Ficha del Alumno">
          <sheet>
            <group>
              <group>
                <field name="name" />
                <field name="fecha_nacimiento" />
              </group>
              <group>
                <field name="colegio" />
                <field name="curso" />
                <field name="empresa_id" />
              </group>
              <group>
                <field name="direccion" />
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    
    <!-- Empresa -->
    <record id="prueba1_empresa_action" model="ir.actions.act_window">
      <field name="name">Empresas</field>
      <field name="res_model">prueba1.empresa</field>
      <field name="view_mode">kanban,list,form</field>
    </record>

    <record id="prueba1_empresa_view_list" model="ir.ui.view">
      <field name="name">prueba1_empresa.view.list</field>
      <field name="model">prueba1.empresa</field>
      <field name="arch" type="xml">
        <list string="Listado de Empresas">
          <field name="name" />
          <field name="rubro" />
          <field name="ubicacion" />
        </list>
      </field>
    </record>

    <record id="prueba1_empresa_view_form" model="ir.ui.view">
      <field name="name">prueba1_empresa.view.form</field>
      <field name="model">prueba1.empresa</field>
      <field name="arch" type="xml">
        <form string="Ficha de Empresa">
          <sheet>
            <div class="oe_title">
              <h1>
                <field name="name" placeholder="Nombre de la empresa" />
              </h1>
            </div>
            <group>
              <group>
                <field name="rubro" />
                <field name="cif" />
              </group>
              <group>
                <field name="ubicacion" />
                <field name="metros_cuadrados" />
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="view_prueba1_empresa_kanban" model="ir.ui.view">
        <field name="name">prueba1.empresa.kanban</field>
        <field name="model">prueba1.empresa</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="id"/>
                <field name="name"/>
                <field name="rubro"/>
                <field name="hijo_ids"/>
                
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_global_click o_kanban_record p-2">
                            
                            <div class="fw-bold mb-1">
                                <field name="name"/>
                            </div>

                            <div class="text-muted small">
                                <div>Rubro: <field name="rubro"/></div>
                            </div>

                            <div class="mt-2">
                                <span class="badge rounded-pill text-bg-info">
                                    Alumnos: <t t-esc="record.hijo_ids.raw_value.length"/>
                                </span>
                            </div>

                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <menuitem id="prueba1_root_menu" name="Prueba 1"/>
    <menuitem id="prueba1_gestion_menu" name="GestiÃ³n" parent="prueba1.prueba1_root_menu"/>
    <menuitem
      id="prueba1_empresa_menu"
      name="Empresas"
      action="prueba1_empresa_action"
      parent="prueba1_gestion_menu"/>
    
    <menuitem
      id="prueba1_hijo_menu"
      name="Alumnos"
      action="prueba1_hijo_action"
      parent="prueba1_gestion_menu"/>

    <!-- explicit list view definition -->
<!--
    <record model="ir.ui.view" id="prueba1.list">
      <field name="name">prueba1 list</field>
      <field name="model">prueba1.prueba1</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>
          <field name="value"/>
          <field name="value2"/>
        </list>
      </field>
    </record>
-->

    <!-- actions opening views on models -->
<!--
    <record model="ir.actions.act_window" id="prueba1.action_window">
      <field name="name">prueba1 window</field>
      <field name="res_model">prueba1.prueba1</field>
      <field name="view_mode">list,form</field>
    </record>
-->

    <!-- server action to the one above -->
<!--
    <record model="ir.actions.server" id="prueba1.action_server">
      <field name="name">prueba1 server</field>
      <field name="model_id" ref="model_prueba1_prueba1"/>
      <field name="state">code</field>
      <field name="code">
        action = {
          "type": "ir.actions.act_window",
          "view_mode": "list,form",
          "res_model": model._name,
        }
      </field>
    </record>
-->

    <!-- Top menu item -->
<!--
    <menuitem name="prueba1" id="prueba1.menu_root"/>
-->
    <!-- menu categories -->
<!--
    <menuitem name="Menu 1" id="prueba1.menu_1" parent="prueba1.menu_root"/>
    <menuitem name="Menu 2" id="prueba1.menu_2" parent="prueba1.menu_root"/>
-->
    <!-- actions -->
<!--
    <menuitem name="List" id="prueba1.menu_1_list" parent="prueba1.menu_1"
              action="prueba1.action_window"/>
    <menuitem name="Server to list" id="prueba1" parent="prueba1.menu_2"
              action="prueba1.action_server"/>
-->
  </data>
</odoo>
